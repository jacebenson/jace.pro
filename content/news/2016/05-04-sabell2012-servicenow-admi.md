---
title: "ServiceNow Admin  Observations on Database Views Part II"
date: 2016-05-04T01:58:20.000Z
link: "https://community.servicenow.com/community?id=community_blog&sys_id=5b0d2ea5dbd0dbc01dcaf3231f961946"
---
<p style="font-family: arial, sans-serif; color: #666666;"><span style="font-style: inherit; font-family: inherit;"><strong>NOTE</strong></span>: ON APRIL 1, 2016 ACCENTURE COMPLETED THE ACQUISITION PROCESS OF CLOUDSHERPAS.   AT THAT TIME THE CLOUDSHERPAS BLOG SITES WERE DOWNED FOREVER.</p><p></p><p style="font-family: arial, sans-serif; color: #666666;">THIS IS THE RE-PUBLICATION OF MY ARTICLE FROM <span style="font-style: inherit; font-family: inherit;"><strong>July 17, 2014</strong></span> ON THE CLOUDSHERPAS SERVICENOW SCRIPTING 101 BLOG.</p><p style="font-family: arial, sans-serif; color: #666666;">____________________________________________________________________________</p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Earlier this week, I shared some basic information on Database Views in ServiceNow. To recap, in a normal report you can only select a single table, but Database Views allow you to pull together data from two or more tables into a single table to report against.</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">In the second part of this post, I'll present some examples of how to use the basics outlined in the previous post to your advantage.</span></p><p></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif'; color: #666666;">Additional Notes and Observations</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">1. Reference Field using Left Join</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Here is an example of how to use the Left Join to create a View that includes the user table but does not constrain on the related approved_by field.</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>The Database View:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: u_left_join_no_constraint</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Label</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: Left Join No Constraint</span></p><p></p><p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>View Tables:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci (Configuration Item)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 100</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: ci</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: none.</span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: sys_user (User)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 200</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: user</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> (I had to do a little research here to find the Assigned To field name to use here):</span></p><p></p><p style="padding-left: 120px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">ci.assigned_to = user.sys_id</span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Left Join</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: true</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Left Join No Constraint View.jpg" class="jive-image" height="237" src="https://lh6.googleusercontent.com/lBWiFvX-r52faDxYzyPu0_O8jMZUq5yX9svlyQrTbCB4H-LMrKLAb2sgPYwRbXxXZKepxNxGnd5OOn25-PZV26mybWvXbj5v55hbYlEX3Nmpzbwy8IxL7xyH6J_ML3cOSINLREY" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="623"/></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Results:</em></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Left Join No Constraint Result.jpg" class="jive-image" height="332" src="https://lh5.googleusercontent.com/fP7cIq3nbKi4Pl0Ghm1NEdFiM6Hc9Y_z1EBuzun7QbOb9Q0uZX-e-DEwFfqIi43KIwwmubHpAtzQkqHgKrd2Y9YqePUMPyXQLZhXuhKgaNDfW0X0n4M0f1ZbxCUG3AqOJxgvXu8" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="623"/></span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Discussion:</em></span></p><p></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Note the results: assigned_to can be blank! This is because we are NOT constraining on the assigned_to field. If you uncheck the Left Join, you will see that those records with an empty assigned_to field are excluded from the View results.</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Did you notice the Manager field to the right? That field is coming from the User table. Since this is a Join, all fields available from both tables are included in the view.</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">2. Unhiding a Hidden Table</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Have you ever noticed that certain tables are not available for reporting? For example, tables like Field Labels and Dictionary. Well, if you wrap them in a View, you can then see them from a report!</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>The database view:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: u_hidden_tables</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Label</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: Hidden Tables</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>View Tables:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: sys_documentation (Field Labels)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 100</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: field</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: none.</span></p><p><img alt="C:\Users\User 1\Desktop\Hidden Table View.jpg" class="jive-image" height="231" src="https://lh3.googleusercontent.com/RT0oAOgkCxcgPqGkTMnT9565YkqSGKyycQmeHsMoEbqhL_JTYyd9CVkUNI_bHi75oPY5jUbVssB1fwyr7NzmRn28HiFJ5W_iiTtjo6VXtMZBAqMveHiwK0QHi_Z4S8L-1ZcHzF4" style="border-style: none; margin-right: auto; margin-left: auto; color: #000000; font-family: Arial; font-size: 14.6667px; line-height: 22.0001px; display: block;" width="625"/></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Results:</em></span></p><p style="margin-bottom: .0001pt;"><span style="color: #000000; font-weight: bold; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Hidden Table Result.jpg" class="jive-image" height="156" src="https://lh6.googleusercontent.com/vpgMPrIDe8RCWWHuFZnph-Dl-p9PE0p6MW1tMm3r_ydPi3IZ5icZxPvHQIq068Bvz8e16NLMCMeteIzZxr_xj939f0mPKWQ7yvAxyWk2O_nFq6PSpjDhN-vHiW_DYzrpyTxAR5w" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="623"/></span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Discussion: </em></span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Nothing really to add here. Just a neat trick to make the table available to the reporting application. Cool, huh?   </span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">3. Constraining a View Using A Choice Label</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Follow these steps to create a view that constrains on the choice label rather than on the choice value.</span><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em> <br/> </em></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>The database view:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: u_constraining_on_choice_label</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Label</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: Constraining On Choice Label</span></p><p></p><p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>View Tables:</em></span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci (Configuration Item)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 100</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: ci</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: none.</span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci_computer (Computer)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 200</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: comp</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">comp.sys_id = ci.sys_id</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: sys_choice (Choice)</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 300</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: choice</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">choice.name = 'cmdb_ci'</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">AND choice.element = 'install_status'</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">AND choice.label = 'Installed'</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">AND choice.value = ci.install_status</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Constraining on Choice Label View.jpg" class="jive-image" height="271" src="https://lh5.googleusercontent.com/dSrHGrFR9Xj3Bbb0rH6kAGbuESggTA6ryuMxDiixhNNzh83e4QmsFq5tTlfERfIjJY7G_XXccn6d2ffusVpjBQHlsFz-MI1ykPTqpKj7oOgEbba1lSDdfoMNyovkb3WBHyglW0U" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="624"/></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Results:</em></span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Constraining on Choice Labels Results.jpg" class="jive-image" height="206" src="https://lh3.googleusercontent.com/DyrtxxXtvTQe1lqogz9TrPQ5y_d8jzh-onlZI4lu-BmCXmPE7uq3QE61wiElyHFW5ylR0dxCdQixvNfDsYlGa7xg50aCKnNWA426woYVL299psEurwxm83J1ivMm3uXGmudGv6s" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="623"/></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Discussion: </em></span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">As we want to constrain the View to the Label "Installed" and not the value "1," we have to join in the Choice table, then tell the View where to find the label. Once you do that, tell the View that you want only certain values from the Choice table: the cmdb_ci table (Name field), the Field name (Element). Next, tell it that you want only the label "Installed." Finally, tie it back into the cmdb_ci table by the install_status field value. A lot of stuff!</span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;"> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">What would happen if you marked the sys_choice record with Left Join of true? Give it a try and see what happens to your record count!</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">4. Two Table Union</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Is it possible to join together two unrelated tables? Sort of. This is known as a Union in the database world. The two tables must have a common root table for it to work. Here is an example that has cmdb_ci as that root.</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>The database view:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Name</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: u_union_of_two_tables</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><strong>Label</strong></span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">: Union of Two Tables</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>View Tables:</em></span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci (Configuration Item)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 100</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: ci</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: none.</span></p><p></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci (Configuration Item)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 200</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: ref</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></p><p style="margin-left: 1.25in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">ci.sys_id = ref.sys_id</span></p><p style="margin-left: 1.25in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">AND (ref.sys_class_name = 'cmdb_ci_ip_router' OR ref.sys_class_name = 'cmdb_ci_computer')</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci_computer (Computer)</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 300</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: comp</span></p><p style="margin-left: 1.0in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></p><p style="margin-left: 1.25in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">ci.sys_id = comp.sys_id</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Table</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: cmdb_ci_ip_router (Router)</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Order</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: 400</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Variable Prefix</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">: router</span></p><p style="margin-left: .5in; margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><strong>Where clause</strong></span><span style="font-size: 12pt; font-family: Arial, sans-serif;">:</span></p><p style="margin-left: 1.5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">ci.sys_id = router.sys_id</span></p><p style="margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Union of Two Tables View.jpg" class="jive-image" height="318" src="https://lh4.googleusercontent.com/o5dUsBopuCIdpFNQ5EEPwM3mIF3oqT-hyDmi_JeanAQ__25y0ZExkb9CUnnZWIbYQe3kl-4E4QJsOyIOf8htQYwvAtUUnouiZ07KBXGcDIjo7Q-BPNCpFkkOQrbA9PEaxdWNPvA" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="624"/></span></p><p style="margin-bottom: 0.0001pt; padding-left: 30px;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>     Results:<br/>   <span style="color: #000000; font-weight: bold; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Union of Two Tables Results.jpg" class="jive-image" height="125" src="https://lh3.googleusercontent.com/2p8t5WajKFls0doJDkzjtZ2Grn-Zbt8nQqf9lNawKAxxmhqlvRNYTg4Oiu-rIu1LTFCuJnVQMST2HEuic_udmPP6R8ToOlQuzlVV_o3IcXMAbyoxWTBLlNWOOihGQQ0vT9Ycegw" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="624"/></span></em></span></p><p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="color: black; font-size: 12.0pt; font-family: 'Arial','sans-serif';"><em>Discussion: </em></span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">With this example you can see how to bring in two tables with the same root (cmdb_ci) and have the unique fields from both present in the View. <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">I started out with our root: cmdb_ci, then constrained the View to just routers and computers. To bring in fields unique to each table, I tied in the Computer and IP Router tables to cmdb_ci via their respective sys_ids. It can be visualized like this:</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/><span style="color: #303030;">   </span></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="color: #000000; font-size: 14.6667px; font-family: Arial;"><img alt="C:\Users\User 1\Desktop\Union of Two Tables Diagram.jpg" class="jive-image" height="359" src="https://lh6.googleusercontent.com/Vi88yyIMyloavUBusB_FLVG52PUN80F6lVTEpVXNJhcbzyrjjDlZ7gME699st8KJnr9L38FcNZTrlusZioaMR3TJ_mJpSTQWhRC8_pXlm1e53OKbo3qWamj3VBkgMgrV7V36rwM" style="border-style: none; display: block; margin-left: auto; margin-right: auto;" width="394"/></span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif; color: #303030;">This is a Union query only in a matter of speaking. The router and computer tables do not share records, but they are related in the hierarchy to cmdb_ci. In the database world, you could bring in two totally unrelated tables, but you won't be able to do that with Database Views. </span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #666666;"><br/> <br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif'; color: #666666;">Some Additional Notes</span></p><p></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">1. It is possible to embed MySQL functions into the Where Clause.</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Example: return all records from cmdb_ci where the updated date is less than the current date/time AND the Name field contains the letters 'HP.'</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #0033cc;">ci.sys_updated_on &lt; NOW() AND INSTR(ci.name, 'HP') &gt; 0</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">2. Use parentheses to separate OR collections from AND statements.</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Example:</span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: blue;"><br/> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: blue;">(ci.name = 'Omniwobble Server' || ci.sys_class_name = 'cmdb_ci_server') &amp;&amp; (ci.name = 'Guest Computer' || ci.sys_class_name = 'cmdb_ci_computer')</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p><span style="font-size: 12pt; font-family: Arial, sans-serif;">3. Not all MySQL commands are available for Database Views. For example, I found that the "IN" statement does not appear to work.</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: red;">ci.sys_class_name IN ('Computer', 'Software') </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> </span><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">or</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: red;">FIND_IN_SET(ci.sys_class_name, 'Computer, Software')</span><span style="font-size: 12pt; font-family: Arial, sans-serif;"><br/> <br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">4. Wildcards are allowed.</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Example (Find all ci names that start with the letters "Omni"):</span></p><p></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: blue;">                             ci.name LIKE 'Omni%'</span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: blue;"> <br/> </span></p><p><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif';">5. Check for any empty fields by running a null check.</span></p><p></p><p style="margin-bottom: .0001pt; text-indent: .5in;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: blue;">u_last_name IS NOT NULL</span></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: #666666;"><br/></span><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif'; color: #666666;">Some Cool Stuff</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12pt; font-family: Arial, sans-serif;">Querying Database Views from a GlideRecord? All of the View fields need to be underscore-walked if you want to reference them!</span></p><p></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Example:</span></p><p></p><pre __default_attr="javascript" __jive_macro_name="code" class="_jivemacro_uid_14622198291416803 jive_macro_code jive_text_macro" data-renderedposition="7253_8_1192_160" jivemacro_uid="_14622198291416803"><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">var referenceExample = new GlideRecord('u_reference_example');</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">referenceExample.addQuery('ci</span><span style="font-family: 'Arial','sans-serif'; color: red;">_</span><span style="font-family: 'Arial','sans-serif'; color: blue;">sys_class_name', 'cmdb_ci_computer');</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">referenceExample.addQuery('ref</span><span style="font-family: 'Arial','sans-serif'; color: red;">_</span><span style="font-family: 'Arial','sans-serif'; color: blue;">name', 'JASONHWXP');</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">referenceExample.query();</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;"> <br/>gs.print(referenceExample.getRowCount());</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;"> <br/>while(referenceExample.next()) {</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">       gs.print(referenceExample.ci_sys_class_name);</span></p><p style="margin-left: .5in; margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;">}</span></p></pre><p style="margin-bottom: .0001pt;"></p><p style="margin-bottom: .0001pt;"><span style="font-family: 'Arial','sans-serif'; color: blue;"><br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 14.0pt; font-family: 'Arial','sans-serif'; color: #666666;">Some Final Thoughts</span></p><p></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Watch out when joining large tables together as this <span style="text-decoration: underline;">will</span> have a performance impact when pulling up data.<br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">Here is the location of the MySQL function:   <a title="v.mysql.com/doc/refman/5.7/en/func-op-summary-ref.html" href="http://dev.mysql.com/doc/refman/5.7/en/func-op-summary-ref.html">link</a><br/> </span></p><p style="margin-bottom: .0001pt;"><span style="font-size: 12.0pt; font-family: 'Arial','sans-serif'; color: black;">I have posted these and other examples in the following location on ServiceNow Share: <a title="hare.servicenow.com/app.do#/detail/d90bad372b79e1004a1e976be8da158c" href="https://share.servicenow.com/app.do#/detail/d90bad372b79e1004a1e976be8da158c">link</a></span></p><p style="margin-bottom: .0001pt;"></p><p style="font-family: arial, sans-serif; color: #666666;"></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="font-weight: inherit; font-style: inherit; font-size: 16px; font-family: arial, helvetica, sans-serif;">Steven Bell</span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="color: purple; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>If you find this article helps you, don't forget to log in and "like" it!</strong></span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="color: purple; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong>Also, if you are not already, I would like to encourage you to become a member of our blog!</strong></span></p><p></p><p style="font-family: arial, sans-serif; color: #666666;"><span style="color: purple; font-weight: inherit; font-size: 12pt; font-family: inherit; font-style: inherit;"><strong><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="103436" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-5356-103436/accenture technology logo.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img   alt="accenture technology logo.png" class="image-1 jive-image" height="52" src="b552a582dbd4d7041dcaf3231f9619a1.iix" style="margin: 10px 10px 10px 0; border: 0px; font-weight: inherit; font-style: inherit; font-family: inherit;" width="277"/></a><a _jive_internal="true" data-containerid="-1" data-containertype="-1" data-objectid="103437" data-objecttype="111" href="/servlet/JiveServlet/downloadImage/38-5356-103437/sn-community-mvp.png" style="font-weight: inherit; font-style: inherit; font-family: inherit; color: #266fc8;"><img   alt="sn-community-mvp.png" class="image-2 jive-image" height="48" src="f4e10dc6dbd01b04ed6af3231f961908.iix" style="margin: 10px 10px 10px 0; border: 0px; font-weight: inherit; font-style: inherit; font-family: inherit;" width="135"/></a></strong></span></p>